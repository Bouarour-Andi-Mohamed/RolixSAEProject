@model RolixSAEProject.Models.Produit

@section Styles {
    <link rel="stylesheet" href="~/css/products.css" asp-append-version="true" />
}

@{
    ViewData["Title"] = "Détail du produit";
    var currency = ViewBag.CurrentCurrency as string ?? "EUR";
    var symbol = currency switch
    {
        "CHF" => "CHF",
        "USD" => "$",
        _ => "€"
    };

    var imageUrl = !string.IsNullOrWhiteSpace(Model.ImageUrl)
        ? Model.ImageUrl
        : Url.Content("~/images/placeholder-watch.svg");
}

<div class="details-shell">

    <div class="details-breadcrumb">
        <a asp-controller="Produits" asp-action="Index">Produits</a>
        <span> / </span>
        <span>@Model.Nom</span>
    </div>

    <div class="details-grid">

        <div class="details-media">
            <img src="@imageUrl" alt="@Model.Nom" />
        </div>

        <div class="details-card">
            <h1 class="details-title">@Model.Nom</h1>

            <p class="details-ref">
                Collection : @Model.Collection
            </p>

            <div class="details-price">
                @Model.GetPrice(currency).ToString("N0") @symbol
            </div>

            <div class="details-divider"></div>

            <h2 class="details-section-title">Description</h2>
            <p class="details-text">
                @Model.DescriptionFR
            </p>

            <div class="details-divider"></div>

            <h2 class="details-section-title">Caractéristique principale</h2>

            <div class="details-specs">
                <div class="spec-row">
                    <span class="spec-label">Mouvement</span>
                    <span class="spec-value">Automatique</span>
                </div>
                <div class="spec-row">
                    <span class="spec-label">Taille du boîtier</span>
                    <span class="spec-value">41mm</span>
                </div>
                <div class="spec-row">
                    <span class="spec-label">Matériau</span>
                    <span class="spec-value">Acier</span>
                </div>
                <div class="spec-row">
                    <span class="spec-label">Étanchéité</span>
                    <span class="spec-value">200m</span>
                </div>
            </div>

            <button class="details-cta" type="button">
                Demander un devis
            </button>

            <a class="details-back" asp-controller="Produits" asp-action="Index">
                &laquo; Retour à la liste
            </a>
        </div>

    </div>

    <div class="details-bottom">
        <h3 class="bottom-title">Caractéristiques détaillées</h3>

        <div class="bottom-grid">
            <div class="bottom-col">
                <div><span class="k">Mouvement</span> Automatique</div>
                <div><span class="k">Calibre</span> 3235</div>
                <div><span class="k">Matériau</span> Acier</div>
                <div><span class="k">Bracelet</span> Oyster</div>
            </div>

            <div class="bottom-col">
                <div><span class="k">Taille</span> 41mm</div>
                <div><span class="k">Étanchéité</span> 200m</div>
                <div><span class="k">Verre</span> Saphir (loupe Cyclope)</div>
            </div>
        </div>
    </div>

</div>
