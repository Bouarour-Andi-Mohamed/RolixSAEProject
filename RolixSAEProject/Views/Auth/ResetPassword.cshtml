@model RolixSAEProject.Models.ResetPasswordViewModel

@{
    ViewData["Title"] = "Réinitialiser le mot de passe";
}

<div class="page-wrapper">
    <div class="page-hero">
        <div class="section-divider"></div>
        <h1 class="hero-title">Réinitialiser le mot de passe</h1>
        <p class="hero-subtitle">Saisissez le code reçu par email, puis votre nouveau mot de passe.</p>
    </div>

    <section class="section-shell" style="max-width:520px;margin:0 auto;">
        <div style="border:1px solid #e5e7eb;background:#fff;padding:16px;">

            @if (!string.IsNullOrWhiteSpace(Model.Error))
            {
                <div style="background:#fef2f2;border:1px solid #ef4444;color:#7f1d1d;padding:10px;margin-bottom:12px;">
                    @Model.Error
                </div>
            }

            <form asp-controller="Auth" asp-action="ResetPassword" method="post">
                @Html.AntiForgeryToken()

                <input type="hidden" asp-for="Email" />

                <div style="display:grid;gap:8px;">
                    <label style="font-weight:700;">Code</label>
                    <input asp-for="Code" style="padding:10px;border:1px solid #e5e7eb;" />
                    <span asp-validation-for="Code" style="color:#b91c1c;"></span>
                </div>

                <div style="display:grid;gap:8px;margin-top:12px;">
                    <label style="font-weight:700;">Nouveau mot de passe</label>
                    <input asp-for="NewPassword" type="password" style="padding:10px;border:1px solid #e5e7eb;" />
                    <span asp-validation-for="NewPassword" style="color:#b91c1c;"></span>
                </div>

                <div style="display:grid;gap:8px;margin-top:12px;">
                    <label style="font-weight:700;">Confirmer</label>
                    <input asp-for="ConfirmPassword" type="password" style="padding:10px;border:1px solid #e5e7eb;" />
                    <span asp-validation-for="ConfirmPassword" style="color:#b91c1c;"></span>
                </div>

                <button type="submit"
                        style="margin-top:14px;border:1px solid #111;background:#111;color:#fff;padding:10px 12px;width:100%;cursor:pointer;">
                    Modifier le mot de passe
                </button>

                <div style="margin-top:12px;text-align:center;">
                    <a asp-controller="Auth" asp-action="ForgotPassword" style="color:#111;text-decoration:none;">Renvoyer un code</a>
                </div>
            </form>
        </div>
    </section>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
