@{
    ViewData["Title"] = "Demande de devis";
    var currency = (ViewBag.CurrentCurrency as string) ?? "EUR";
    var err = TempData["Error"] as string;
    var productDataverseId = ViewBag.ProductDataverseId as string ?? "";
}


<div class="page-wrapper">
    <div class="page-hero">
        <div class="section-divider"></div>
        <h1 class="hero-title">Demande de devis</h1>
        <p class="hero-subtitle">Finalisez votre demande.</p>
    </div>

    <section class="section-shell" style="max-width:520px;margin:0 auto;">
        @if (!string.IsNullOrWhiteSpace(err))
        {
            <p style="color:#b91c1c;margin-bottom:14px;">@err</p>
        }

        <form method="post" asp-controller="Devis" asp-action="Demande">
            @Html.AntiForgeryToken()

            <input type="hidden" name="productDataverseId" value="@productDataverseId" />
            <input type="hidden" name="currency" value="@currency" />

            <div class="field" style="margin-bottom:14px;">
                <label>Quantité</label>
                <input name="quantity" type="number" min="1" step="1" value="1" />
            </div>

            <div class="field" style="margin-bottom:18px;">
                <label>Remise (montant)</label>
                <input name="manualDiscountAmount" type="number" min="0" step="0.01" value="0" />
            </div>

            <button class="button" type="submit" style="width:100%;">Créer le devis</button>
        </form>
    </section>
</div>
