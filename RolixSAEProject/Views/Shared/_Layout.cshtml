<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - RolixSAEProject</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/RolixSAEProject.styles.css" asp-append-version="true" />
</head>
<body>
    @{
        var currentCurrency = Context.Request.Cookies["Currency"] ?? "EUR";
        var returnUrl = Context.Request.Path + Context.Request.QueryString;
    }
    <header class="app-header">
        <div class="header-shell">
            <a class="brand" asp-controller="Home" asp-action="Index">ROLIX</a>

            <nav class="header-nav">
                <a class="nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Home" ? "active" : string.Empty)" asp-controller="Home" asp-action="Index">Accueil</a>
                <a class="nav-link @(ViewContext.RouteData.Values["controller"]?.ToString() == "Produits" ? "active" : string.Empty)" asp-controller="Produits" asp-action="Index">Nos produits</a>
                <a class="nav-link" asp-controller="Home" asp-action="Privacy">Notre entreprise</a>
            </nav>

            <div class="header-actions">
                <div class="language-switch">
                    <span class="language active">FR</span>
                    <span class="divider">/</span>
                    <span class="language">EN</span>
                </div>

                <div class="currency-switch">
                    <button type="button" class="currency-button" aria-haspopup="true" aria-expanded="false">
                        @currentCurrency
                        <span class="chevron">▾</span>
                    </button>
                    <form class="currency-menu" method="get" asp-controller="Preferences" asp-action="SetCurrency">
                        <input type="hidden" name="returnUrl" value="@returnUrl" />
                        <button type="submit" name="currency" value="EUR" class="currency-option" aria-current="@(currentCurrency == "EUR" ? "true" : "false")">EUR</button>
                        <button type="submit" name="currency" value="CHF" class="currency-option" aria-current="@(currentCurrency == "CHF" ? "true" : "false")">CHF</button>
                        <button type="submit" name="currency" value="USD" class="currency-option" aria-current="@(currentCurrency == "USD" ? "true" : "false")">USD</button>
                    </form>
                </div>

                <a class="account-link" href="#">Mon compte</a>
            </div>
        </div>
    </header>

    <main role="main" class="page-wrapper">
        @RenderBody()
    </main>

    <footer class="app-footer">
        <div class="footer-shell">
            <div class="brand">ROLIX</div>
            <div class="footer-links">
                <a href="#">Politique de confidentialité</a>
                <a href="#">Conditions générales</a>
                <a href="#">Contact</a>
            </div>
            <p class="footer-copy">© 2025 Rolix. Tous droits réservés.</p>
        </div>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
